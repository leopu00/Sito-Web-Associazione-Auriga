---
import BaseLayout from "../../layouts/BaseLayout.astro";
---
<BaseLayout
  title="Candidatura — L'Arte dell'Attore | Auriga"
  description="Scheda di candidatura online per il laboratorio L'Arte dell'Attore - Io vivo la parola! Corso finanziato da NUOVO IMAIE 2026."
  headerTheme="light"
  headerClass="bg-white"
  headerStyle="background-color:#ffffff"
  pageNamespace="candidatura"
  pageClass="text-black"
  pageBg="light"
>
  <!-- Pagina intera su sfondo bianco -->
  <div class="bg-white min-h-screen">

    <!-- ===== HERO: mesh gradient arancione/ambra stile poesia ===== -->
    <div class="relative overflow-visible" style="min-height:clamp(220px,40vh,340px); background-color:#b03000;">

      <!-- Sfere colorate con blur - toni arancio/ambra/rosso - denso come poesia -->
      <div class="absolute top-[0%] left-[-15%] w-[55%] h-[100%] rounded-full bg-[#FF6600] opacity-90 blur-[100px]"></div>
      <div class="absolute top-[0%] left-[-5%] w-[45%] h-[80%] rounded-full bg-[#f97316] opacity-85 blur-[90px]"></div>
      <div class="absolute top-[30%] left-[-10%] w-[40%] h-[70%] rounded-full bg-[#fbbf24] opacity-80 blur-[80px]"></div>
      <div class="absolute top-[0%] right-[-15%] w-[55%] h-[100%] rounded-full bg-[#dc2626] opacity-85 blur-[100px]"></div>
      <div class="absolute top-[0%] right-[-5%] w-[45%] h-[80%] rounded-full bg-[#ea580c] opacity-80 blur-[90px]"></div>
      <div class="absolute top-[30%] right-[-10%] w-[40%] h-[70%] rounded-full bg-[#fb923c] opacity-75 blur-[85px]"></div>
      <div class="absolute top-[5%] left-[15%] w-[55%] h-[60%] rounded-full bg-[#fbbf24] opacity-70 blur-[110px]"></div>
      <div class="absolute top-[0%] left-[25%] w-[50%] h-[50%] rounded-full bg-[#FF6600] opacity-75 blur-[90px]"></div>
      <div class="absolute top-[10%] left-[35%] w-[40%] h-[60%] rounded-full bg-[#f59e0b] opacity-65 blur-[80px]"></div>
      <div class="absolute top-[20%] left-[20%] w-[45%] h-[50%] rounded-full bg-[#ef4444] opacity-55 blur-[85px]"></div>
      <div class="absolute top-[15%] left-[45%] w-[35%] h-[45%] rounded-full bg-[#fed7aa] opacity-50 blur-[70px]"></div>
      <div class="absolute top-[25%] left-[30%] w-[40%] h-[40%] rounded-full bg-[#c2410c] opacity-60 blur-[75px]"></div>

      <!-- Testo hero centrato -->
      <div class="max-w-3xl mx-auto px-6 pt-14 pb-24 md:pt-16 md:pb-28 text-center">
        <p class="text-white text-sm md:text-base uppercase tracking-widest mb-4 drop-shadow-[0_1px_2px_rgba(0,0,0,0.1)]">NUOVO IMAIE 2026</p>
        <h1 class="text-4xl md:text-6xl font-bold tracking-tight text-white leading-tight drop-shadow-[0_2px_12px_rgba(0,0,0,0.5)]">
          Scheda di candidatura
        </h1>
        <p class="mt-4 text-lg md:text-xl text-white max-w-xl mx-auto drop-shadow-[0_1px_6px_rgba(0,0,0,0.6)]">
          L'Arte dell'Attore — Io vivo la parola!
        </p>
      </div>

      <!-- Pillola loghi a cavallo (metà dentro la barra arancione, metà fuori) -->
      <div class="absolute left-1/2 -translate-x-1/2 bottom-0 translate-y-1/2 z-20">
        <div
          class="flex items-center justify-center gap-8 px-10 py-5 rounded-full bg-white"
          style="box-shadow: 0 8px 40px rgba(0,0,0,0.18), 0 2px 8px rgba(255,102,0,0.12);"
        >
          <img
            src="/img/nuovo-imaie-logo.svg"
            alt="Logo NUOVO IMAIE"
            class="h-10 md:h-12 w-auto object-contain"
          />
          <div class="w-px h-8 bg-slate-200 shrink-0"></div>
          <img
            src="/LOGO-2.svg"
            alt="Logo Auriga"
            class="h-10 md:h-12 w-auto object-contain"
          />
        </div>
      </div>
    </div>
    <!-- Fine hero: la pillola sporge di metà verso il basso -->

    <!-- Spazio per la pillola che sporge -->
    <div class="h-16 md:h-20 bg-white"></div>

    <!-- ===== CONTENUTO FORM ===== -->
    <div class="bg-white pb-20 md:pb-28">
      <div class="max-w-3xl mx-auto px-4">

        <!-- Banner avviso candidature non ancora aperte -->
        <div class="rounded-xl border border-amber-300 bg-amber-50 shadow-md px-6 sm:px-10 py-6 text-slate-800 mb-8">
          <div class="flex items-start gap-4">
            <div class="text-amber-500 shrink-0 mt-0.5">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-slate-800">Le candidature apriranno prossimamente</p>
              <p class="text-sm text-slate-600 mt-1">È possibile consultare i campi richiesti, ma l'invio non è ancora attivo.</p>
            </div>
          </div>
        </div>

        <!-- Contenuto form -->
        <div id="form-wrapper">

        <!-- Intro -->
        <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
          <p class="text-slate-600 leading-relaxed">
            Compila tutti i campi obbligatori (<span class="text-red-600">*</span>) e allega i documenti richiesti.
            Prima di compilare, assicurati di aver letto il
            <a href="/assets/bando-io-vivo-la-parola.pdf" target="_blank" class="text-[#003366] hover:text-[#FF6600] underline font-medium">bando completo</a>.
          </p>
          <p class="mt-3 text-sm text-slate-500">
            Scadenza candidature: <strong>entro e non oltre il 18 luglio 2026</strong>.
          </p>
        </div>

        <!-- Form -->
        <form id="candidatura-form" novalidate>

          <!-- Sezione 1: Dati anagrafici -->
          <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
            <div class="flex items-center gap-3 mb-2">
              <span class="w-8 h-8 rounded-full bg-[#FF6600] text-white flex items-center justify-center text-sm font-bold shrink-0" aria-hidden="true">1</span>
              <h2 class="text-lg font-semibold text-slate-800" style="font-family: system-ui, -apple-system, sans-serif;">Dati anagrafici</h2>
            </div>
            <div class="h-0.5 w-12 bg-[#FF6600] rounded-full mb-8"></div>

            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <label for="nome" class="block text-sm font-medium text-slate-700 mb-1">Nome <span class="text-red-600">*</span></label>
                <input type="text" id="nome" name="nome" required autocomplete="given-name" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="Il tuo nome" />
              </div>
              <div>
                <label for="cognome" class="block text-sm font-medium text-slate-700 mb-1">Cognome <span class="text-red-600">*</span></label>
                <input type="text" id="cognome" name="cognome" required autocomplete="family-name" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="Il tuo cognome" />
              </div>
              <div>
                <label for="data-nascita" class="block text-sm font-medium text-slate-700 mb-1">Data di nascita <span class="text-red-600">*</span></label>
                <input type="date" id="data-nascita" name="data_nascita" required class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" />
              </div>
              <div>
                <label for="citta" class="block text-sm font-medium text-slate-700 mb-1">Domicilio — Città <span class="text-red-600">*</span></label>
                <input type="text" id="citta" name="citta" required autocomplete="address-level2" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="Es. Roma" />
              </div>
              <div>
                <label for="provincia" class="block text-sm font-medium text-slate-700 mb-1">Domicilio — Provincia <span class="text-red-600">*</span></label>
                <input type="text" id="provincia" name="provincia" required maxlength="2" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors uppercase" placeholder="Es. RM" />
              </div>
              <div>
                <label for="email" class="block text-sm font-medium text-slate-700 mb-1">Email <span class="text-red-600">*</span></label>
                <input type="email" id="email" name="email" required autocomplete="email" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="nome@email.com" />
              </div>
              <div>
                <label for="telefono" class="block text-sm font-medium text-slate-700 mb-1">Telefono <span class="text-red-600">*</span></label>
                <input type="tel" id="telefono" name="telefono" required autocomplete="tel" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="+39 333 1234567" />
              </div>
            </div>
          </div>

          <!-- Sezione 2: Requisiti NUOVO IMAIE -->
          <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
            <div class="flex items-center gap-3 mb-2">
              <span class="w-8 h-8 rounded-full bg-[#FF6600] text-white flex items-center justify-center text-sm font-bold shrink-0" aria-hidden="true">2</span>
              <h2 class="text-lg font-semibold text-slate-800" style="font-family: system-ui, -apple-system, sans-serif;">Requisiti NUOVO IMAIE</h2>
            </div>
            <div class="h-0.5 w-12 bg-[#FF6600] rounded-full mb-2"></div>
            <p class="text-sm text-slate-500 mb-8">Selezione riservata ai Soci o Membri NUOVO IMAIE iscritti alla data del 10 marzo 2025.</p>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <label for="codice-imaie" class="block text-sm font-medium text-slate-700 mb-1">Numero / Codice ID NUOVO IMAIE <span class="text-red-600">*</span></label>
                <input type="text" id="codice-imaie" name="codice_imaie" required class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="Il tuo codice identificativo" />
              </div>
              <div>
                <label for="data-iscrizione" class="block text-sm font-medium text-slate-700 mb-1">Data di iscrizione NUOVO IMAIE <span class="text-red-600">*</span></label>
                <input type="date" id="data-iscrizione" name="data_iscrizione_imaie" required class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" />
              </div>
            </div>
          </div>

          <!-- Sezione 3: Video (facoltativo) -->
          <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
            <div class="flex items-center gap-3 mb-2">
              <span class="w-8 h-8 rounded-full bg-[#FF6600] text-white flex items-center justify-center text-sm font-bold shrink-0" aria-hidden="true">3</span>
              <h2 class="text-lg font-semibold text-slate-800" style="font-family: system-ui, -apple-system, sans-serif;">Link video</h2>
            </div>
            <div class="h-0.5 w-12 bg-[#FF6600] rounded-full mb-2"></div>
            <p class="text-sm text-slate-500 mb-8">Facoltativo. Puoi inserire fino a 2 link a video (YouTube, Vimeo, ecc.).</p>
            <div class="space-y-6">
              <div>
                <label for="video-1" class="block text-sm font-medium text-slate-700 mb-1">Link video 1</label>
                <input type="url" id="video-1" name="video_1" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="https://www.youtube.com/watch?v=..." />
              </div>
              <div>
                <label for="video-2" class="block text-sm font-medium text-slate-700 mb-1">Link video 2</label>
                <input type="url" id="video-2" name="video_2" class="w-full rounded-lg border border-slate-300 px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-[#FF6600] transition-colors" placeholder="https://vimeo.com/..." />
              </div>
            </div>
          </div>

          <!-- Sezione 4: Allegati -->
          <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
            <div class="flex items-center gap-3 mb-2">
              <span class="w-8 h-8 rounded-full bg-[#FF6600] text-white flex items-center justify-center text-sm font-bold shrink-0" aria-hidden="true">4</span>
              <h2 class="text-lg font-semibold text-slate-800" style="font-family: system-ui, -apple-system, sans-serif;">Allegati</h2>
            </div>
            <div class="h-0.5 w-12 bg-[#FF6600] rounded-full mb-2"></div>
            <p class="text-sm text-slate-500 mb-8">Carica i documenti richiesti nei formati indicati.</p>
            <div class="space-y-8">
              <div>
                <label for="foto-1" class="block text-sm font-medium text-slate-700 mb-1">Foto 1 (JPG) <span class="text-red-600">*</span></label>
                <p class="text-xs text-slate-500 mb-2">Solo formato .jpg/.jpeg — max 10 MB</p>
                <input type="file" id="foto-1" name="foto_1" required accept=".jpg,.jpeg" class="w-full text-sm text-slate-600 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-orange-50 file:text-[#FF6600] hover:file:bg-orange-100 file:cursor-pointer cursor-pointer" />
              </div>
              <div>
                <label for="foto-2" class="block text-sm font-medium text-slate-700 mb-1">Foto 2 (JPG) <span class="text-red-600">*</span></label>
                <p class="text-xs text-slate-500 mb-2">Solo formato .jpg/.jpeg — max 10 MB</p>
                <input type="file" id="foto-2" name="foto_2" required accept=".jpg,.jpeg" class="w-full text-sm text-slate-600 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-orange-50 file:text-[#FF6600] hover:file:bg-orange-100 file:cursor-pointer cursor-pointer" />
              </div>
              <div>
                <label for="cv" class="block text-sm font-medium text-slate-700 mb-1">Curriculum Vitae (PDF) <span class="text-red-600">*</span></label>
                <p class="text-xs text-slate-500 mb-2">Solo formato .pdf — max 15 MB</p>
                <input type="file" id="cv" name="cv" required accept=".pdf" class="w-full text-sm text-slate-600 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-orange-50 file:text-[#FF6600] hover:file:bg-orange-100 file:cursor-pointer cursor-pointer" />
              </div>
              <div>
                <label for="lettera" class="block text-sm font-medium text-slate-700 mb-1">Lettera motivazionale (PDF) <span class="text-red-600">*</span></label>
                <p class="text-xs text-slate-500 mb-2">Breve e sintetica, segnalando eventuale conoscenza esperienziale della metodologia e aspettative professionali — solo .pdf, max 15 MB</p>
                <input type="file" id="lettera" name="lettera_motivazionale" required accept=".pdf" class="w-full text-sm text-slate-600 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-orange-50 file:text-[#FF6600] hover:file:bg-orange-100 file:cursor-pointer cursor-pointer" />
              </div>
            </div>
          </div>

          <!-- Sezione 5: Consenso privacy -->
          <div class="rounded-xl bg-white border-l-4 border-[#FF6600] shadow-md px-6 sm:px-10 py-10 text-slate-800 mb-8">
            <div class="flex items-start gap-3">
              <input type="checkbox" id="privacy" name="privacy" required class="mt-1 h-5 w-5 rounded border-slate-300 text-[#FF6600] focus:ring-[#FF6600] cursor-pointer shrink-0" />
              <label for="privacy" class="text-sm text-slate-600 leading-relaxed cursor-pointer">
                Dichiaro di aver letto il
                <a href="/assets/bando-io-vivo-la-parola.pdf" target="_blank" class="text-[#003366] hover:text-[#FF6600] underline">bando completo</a>
                e acconsento al trattamento dei miei dati personali ai sensi della normativa vigente in materia di protezione dei dati personali, per le finalità connesse alla selezione dei partecipanti al laboratorio.
                <span class="text-red-600">*</span>
              </label>
            </div>
          </div>

          <!-- Errori di validazione -->
          <div id="form-errors" class="hidden rounded-xl border border-red-300 bg-red-50 shadow-md px-6 sm:px-10 py-6 text-red-800 mb-8" role="alert" aria-live="assertive">
            <p class="font-semibold mb-2">Attenzione</p>
            <ul id="error-list" class="list-disc list-inside text-sm space-y-1"></ul>
          </div>

          <!-- Pulsante INVIA -->
          <div class="text-center">
            <button type="submit" id="submit-btn" class="inline-block px-10 py-4 bg-slate-400 text-white text-lg font-semibold rounded-lg shadow-lg cursor-not-allowed">
              Invia domanda
            </button>
            <!-- Avviso post-click -->
            <div id="submit-notice" class="hidden mt-4 rounded-lg border border-amber-300 bg-amber-50 px-6 py-4 text-slate-700 text-sm">
              L'invio delle candidature non è ancora attivo. Tornate a visitare questa pagina prossimamente.
            </div>
          </div>
        </form>

        <!-- Contatti e info -->
        <div class="mt-12 text-center text-slate-500 text-sm space-y-2">
          <p>Per informazioni: <strong class="text-[#003366]">Cristina Pedetta</strong> — <a href="tel:+393282634533" class="text-[#003366] hover:text-[#FF6600] underline transition-colors">328 263 4533</a></p>
          <p>APS AURIGA — <a href="tel:+393498457930" class="text-[#003366] hover:text-[#FF6600] underline transition-colors">349 845 7930</a> — <a href="mailto:info.sprachgestaltung@gmail.com" class="text-[#003366] hover:text-[#FF6600] underline transition-colors">info.sprachgestaltung@gmail.com</a></p>
          <p class="mt-4">
            <a href="/io-vivo-la-parola" class="text-[#003366] hover:text-[#FF6600] underline transition-colors">← Torna alla pagina del progetto</a>
          </p>
        </div>

        </div><!-- /form-wrapper -->

      </div>
    </div>

    <!-- ===== FOOTER arancione chiaro ===== -->
    <div class="bg-[#fff3eb] py-8 text-center text-sm text-slate-600 border-t border-orange-100">
      <p>Associazione di Promozione Sociale <strong class="text-[#003366]">Auriga</strong> · Progetto finanziato da <strong class="text-[#FF6600]">NUOVO IMAIE</strong> 2026</p>
    </div>

  </div><!-- /bg-white wrapper -->

  <script>
    document.addEventListener('astro:page-load', () => {
      const form = document.getElementById('candidatura-form') as HTMLFormElement | null;
      const submitNotice = document.getElementById('submit-notice');

      if (!form) return;

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        submitNotice?.classList.remove('hidden');
        submitNotice?.scrollIntoView({ behavior: 'smooth', block: 'center' });
      });
    });
  </script>
</BaseLayout>
