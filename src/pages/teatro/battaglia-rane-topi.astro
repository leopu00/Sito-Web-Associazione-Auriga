---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout title="La battaglia delle rane e dei topi — Auriga" headerTheme="light" pageNamespace="teatro-battaglia-rane-topi" pageClass="bg-white text-black" pageBg="light">
  <section class="max-w-6xl mx-auto px-4 py-12 pt-20">

    <!-- Header -->
    <h1 class="text-3xl md:text-4xl font-bold">La battaglia delle rane e dei topi</h1>
    <div class="mt-2 text-sm text-slate-600">
      <span>Durata: 50 minuti</span> · <span>Età: dai 9 anni</span>
    </div>

    <!-- Teaser / breve descrizione -->
    <p class="mt-6 text-lg leading-relaxed text-slate-700">
      Adattamento della <em>Batracomiomachia</em> attribuita ad Omero: una satira epico‑burlesca che racconta, tra rane e topi, la storia di tutte le guerre.
    </p>

    <!-- Hero / immagine principale -->
    <div class="mt-6 rounded-xl overflow-hidden">
      <img src="/img/battaglia-rane.jpg" alt="La battaglia delle rane e dei topi" class="w-full h-80 md:h-[28rem] object-contain mx-auto" />
    </div>

    <!-- Sinossi -->
    <h2 class="mt-10 text-2xl font-semibold">Sinossi</h2>
    <p class="mt-3 leading-relaxed text-slate-700">
      In uno stagno, all’alba di un giorno qualunque, un topo assetato incontra una rana. Dopo un breve scambio, la rana lo traghetta verso l’altra riva, ma un incidente scatena una guerra senza ritorno. I due popoli si armano e si fronteggiano: lo stagno, fonte di vita, diventa campo di morte. Due attrici raccontano, alternando epico e drammatico, la storia di tutte le guerre in un gioco grottesco che diverte e fa riflettere. Le guerre sono tante, la guerra è una sola: nasce e cresce nel cuore dell’essere topo, dell’essere rana, dell’essere umano.
    </p>

    <!-- Crediti e Cast -->
    <h2 class="mt-10 text-2xl font-semibold">Crediti e Cast</h2>
    <ul class="mt-3 space-y-1 text-slate-700">
      <li><strong>Interpreti:</strong> Marzia Di Giulio, Tiziana Di Nunno</li>
      <li><strong>Regia:</strong> Flavia Giovannelli</li>
      <li><strong>Drammaturgia/Adattamento:</strong> da “Batracomiomachia” attribuita ad Omero</li>
      <li><strong>Scenografia e Costumi:</strong> Carmela Spiteri</li>
      <li><strong>Produzione:</strong> APS Auriga</li>
    </ul>

    <!-- Galleria: carosello con frecce, immagini di esempio -->
    <h2 class="mt-10 text-2xl font-semibold">Galleria</h2>
    <div class="mt-2 relative w-full max-w-3xl mx-auto">
      <div class="overflow-hidden rounded bg-black">
        <div class="flex transition-transform duration-700 ease-in-out will-change-transform h-96 md:h-[40rem]" id="carousel-battaglia">
          <img src="/img/battaglia-rane-topi/DSCF3810.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 1" />
          <img src="/img/battaglia-rane-topi/DSCF3838.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 2" />
          <img src="/img/battaglia-rane-topi/DSCF3862.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 3" />
          <img src="/img/battaglia-rane-topi/DSCF3906.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 4" />
          <img src="/img/battaglia-rane-topi/DSCF3912.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 5" />
          <img src="/img/battaglia-rane-topi/DSCF4046.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 6" />
          <img src="/img/battaglia-rane-topi/DSCF4111.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 7" />
          <img src="/img/battaglia-rane-topi/DSCF4134.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 8" />
          <img src="/img/battaglia-rane-topi/DSCF4169.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 9" />
          <img src="/img/battaglia-rane-topi/DSCF4171.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="Battaglia rane e topi – scena 10" />
        </div>
      </div>
      <button onclick="moveBattaglia(-1)" class="absolute top-1/2 left-0 -translate-y-1/2 bg-white/70 text-black p-2 rounded">←</button>
      <button onclick="moveBattaglia(1)"  class="absolute top-1/2 right-0 -translate-y-1/2 bg-white/70 text-black p-2 rounded">→</button>
    </div>
    <script is:inline>
      window.addEventListener('DOMContentLoaded', () => {
        let indexBR = 0;
        const carouselBR = document.getElementById('carousel-battaglia');
        const totalBR = carouselBR ? carouselBR.children.length : 0;
        function moveBattaglia(direction) {
          if (!carouselBR || totalBR === 0) return;
          indexBR = (indexBR + direction + totalBR) % totalBR;
          carouselBR.style.transform = `translateX(-${indexBR * 100}%)`;
        }
        window.moveBattaglia = moveBattaglia;

        // Modal handling
        const imgs = carouselBR ? carouselBR.querySelectorAll('img') : [];
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');

        imgs.forEach((img) => {
          img.classList.add('cursor-zoom-in');
          img.addEventListener('click', () => {
            if (modal && modalImg) {
              modalImg.src = img.src;
              modal.classList.remove('hidden');
              modal.classList.add('flex');
            }
          });
        });

        function closeModal() {
          if (modal) {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            if (modalImg) modalImg.src = '';
          }
        }
        window.closeModal = closeModal;

        if (modal) {
          modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
          });
        }
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') closeModal();
        });
      });
    </script>

    <!-- Scheda tecnica (placeholder) -->
    <h2 class="mt-10 text-2xl font-semibold">Scheda tecnica</h2>
    <ul class="mt-3 list-disc pl-6 text-slate-600">
      <li>Età consigliata: dai 9 anni</li>
      <li>Spettacolo adattabile a qualunque spazio scenico</li>
      <li>Nessuna amplificazione richiesta (né musiche, né microfoni)</li>
      <li>Qualora disponibile un impianto luci, è previsto un tecnico di fiducia</li>
    </ul>

    <!-- CTA -->
    <div class="mt-12 flex flex-wrap gap-3">
      <a href="/teatro" class="inline-block px-5 py-3 border border-black rounded hover:bg-black hover:text-white transition-colors">
        ← Indietro
      </a>
    </div>

    <div id="imgModal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50">
      <img id="modalImg" src="" alt="Immagine a schermo intero" class="max-w-full max-h-full object-contain" />
      <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-2xl">✕</button>
    </div>
  </section>

  <style is:global>
    header { position: sticky; top: 0; z-index: 50; }
  </style>
</BaseLayout>