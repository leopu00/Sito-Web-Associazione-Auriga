---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout title="La tempesta continua — Auriga" headerTheme="light" pageNamespace="teatro-tempesta-continua" pageClass="bg-[#faf7f2] text-black" pageBg="light" headerClass="bg-[#faf7f2]" headerStyle="background-color:#faf7f2">
  <section class="max-w-6xl mx-auto px-4 py-12 pt-20">
    
    <!-- Header -->
    <h1 class="text-3xl md:text-4xl font-bold">La tempesta continua</h1>
    <div class="mt-2 text-sm text-gray-700">
      <span>Durata: 1 ora e 30 minuti</span>
    </div>

    <!-- Teaser / breve descrizione -->
    <p class="mt-6 text-lg leading-relaxed">
      Spettacolo teatrale nato da improvvisazioni ispirate al romanzo di Peter Handke <em>Immer noch Sturm</em>: un viaggio poetico in cui un io visita in sogno i propri avi, in un territorio di confine dove alla fine della guerra si perde un’identità e restano <strong>amore</strong> e <strong>musica</strong>.
    </p>

    <!-- Hero / immagine principale (sostituisci src se necessario) -->
    <div class="mt-6 rounded-xl overflow-hidden">
      <img src="/img/tempesta-continua.jpg" alt="La tempesta continua" class="w-full h-80 md:h-[28rem] object-cover" />
    </div>

    <!-- Sinossi -->
    <h2 class="mt-10 text-2xl font-semibold">Sinossi</h2>
    <p class="mt-3 leading-relaxed">
      Ispirato al romanzo <em>Immer noch Sturm</em> di Peter Handke, lo spettacolo affronta il tema dell’<strong>onirodramma</strong>: il sogno come condizione drammaturgica. Attraverso improvvisazioni collettive e lavoro sulla parola, si compone un percorso poetico e corale che intreccia memoria, identità e musica in un territorio di confine segnato dalla guerra e dalle sue eredità.
    </p>

    <!-- Note di regia -->
    <h2 class="mt-10 text-2xl font-semibold">Note di regia</h2>
    <p class="mt-3 leading-relaxed">
      Il testo integrale delle note di regia, a cura di Claudio Puglisi, è disponibile <a href="/docs/LaTempestaContinuaPresentazione.pdf" target="_blank" class="text-blue-600 underline font-semibold">qui</a>.
    </p>

    <!-- Crediti e Cast -->
    <h2 class="mt-10 text-2xl font-semibold">Crediti e Cast</h2>
    <ul class="mt-3 space-y-1">
      <li><strong>Interpreti:</strong> Valeria Almerighi, Chiara Catalano, Marco Conti, Marzia Di Giulio, Tiziana Di Nunno, Flavia Giovannelli, Giuseppe Mortelliti, Giuseppe Savio</li>
      <li><strong>Regia:</strong> Claudio Puglisi</li>
      <li><strong>Drammaturgia/Adattamento:</strong> Claudio Puglisi · ispirato a Peter Handke, <em>Immer noch Sturm</em></li>
      <li><strong>Produzione:</strong> APS Auriga</li>
      <li><strong>Costumi:</strong> Chiara Fabbri, Carmela Spiteri</li>
      <li><strong>Musica:</strong> Damiano Giuranna</li>
      <li><strong>Organizzazione:</strong> Marialucia Carones</li>
      <li><strong>Fotografie:</strong> Anna Faragona</li>
    </ul>

    <!-- Debutto e repliche
    <h2 class="mt-10 text-2xl font-semibold">Debutto e repliche</h2>
    <ul class="mt-3 space-y-1">
      <li><strong>Debutto:</strong> [Teatro, Città — gg/mm/aaaa]</li>
      <li><strong>Repliche selezionate:</strong> [Teatro/Festival — data]; [Teatro/Festival — data]</li>
      <li><strong>Periodo di programmazione:</strong> [es. stagione 2024/25]</li>
      <li><strong>Numero repliche:</strong> [es. 12]</li>
    </ul> -->

    <!-- Galleria -->
    <h2 class="mt-6 text-2xl font-semibold">Galleria</h2>
    <div class="mt-2 relative w-full max-w-3xl mx-auto">
      <div class="overflow-hidden rounded">
        <!-- altezza del viewport del carosello -->
        <div class="flex transition-transform duration-2000 ease-in-out will-change-transform h-96 md:h-[40rem]" id="carousel-tempesta">
          <!-- ogni immagine occupa il 100% del viewport e NON viene tagliata -->
          <img src="/img/tempesta-2.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 2" />
          <img src="/img/tempesta-3.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 3" />
          <img src="/img/tempesta-4.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 4" />
          <img src="/img/tempesta-5.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 5" />
          <img src="/img/tempesta-6.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 6" />
          <img src="/img/tempesta-8.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 8" />
          <img src="/img/tempesta-9.jpg"  class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 9" />
          <img src="/img/tempesta-10.jpg" class="w-full h-full object-contain object-center flex-none shrink-0" alt="La tempesta continua – scena 10" />
        </div>
      </div>

      <!-- Frecce -->
      <button onclick="moveCarousel(-1)" class="absolute top-1/2 left-0 -translate-y-1/2 bg-black/60 text-white p-2 rounded">←</button>
      <button onclick="moveCarousel(1)"  class="absolute top-1/2 right-0 -translate-y-1/2 bg-black/60 text-white p-2 rounded">→</button>
    </div>

    <script is:inline>
      window.addEventListener('DOMContentLoaded', () => {
        let index = 0;
        const carousel = document.getElementById('carousel-tempesta');
        const total = carousel ? carousel.children.length : 0;
        function moveCarousel(direction) {
          if (!carousel || total === 0) return;
          index = (index + direction + total) % total;
          carousel.style.transform = `translateX(-${index * 100}%)`;
        }
        // expose for inline onclick arrows
        window.moveCarousel = moveCarousel;

        // fullscreen modal
        const imgs = carousel ? carousel.querySelectorAll('img') : [];
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');

        imgs.forEach((img) => {
          img.classList.add('cursor-zoom-in');
          img.addEventListener('click', () => {
            if (modal && modalImg) {
              modalImg.src = img.src;
              modal.classList.remove('hidden');
              modal.classList.add('flex');
            }
          });
        });

        function closeModal() {
          if (modal) {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            if (modalImg) modalImg.src = '';
          }
        }
        window.closeModal = closeModal;

        if (modal) {
          modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
          });
        }
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') closeModal();
        });
      });
    </script>

    <!-- Rassegna stampa -->
    <h2 class="mt-10 text-2xl font-semibold">Rassegna stampa</h2>
    <p class="mt-3 leading-relaxed">Alcuni articoli e recensioni apparsi su testate online riguardo allo spettacolo.</p>
    <ul class="mt-3 space-y-1 list-disc list-inside">
      <li><a href="https://www.gbopera.it/2024/10/roma-nuovo-teatro-ateneo-la-tempesta-continua-regia-di-claudio-puglisi/" target="_blank" class="text-blue-600 underline font-semibold">GBOpera</a></li>
      <li><a href="https://www.foryoumag.net/la-tempesta-continua-un-viaggio-teatrale-tra-memoria-e-identita/" target="_blank" class="text-blue-600 underline font-semibold">ForYouMag</a></li>
      <li><a href="https://www.ansa.it/amp/sito/notizie/cultura/teatro/2024/10/11/puglisi-con-handke-porta-in-scena-i-disastri-della-guerra_d569feaa-8902-4b07-b080-038e7a358c30.html" target="_blank" class="text-blue-600 underline font-semibold">ANSA</a></li>
    </ul>

    <!-- CTA -->
    <div class="mt-12 flex flex-wrap gap-3">
      <a href="/teatro" class="inline-block px-5 py-3 border border-black rounded hover:bg-black hover:text-white transition-colors">
        ← Indietro
      </a>
    </div>

    <div id="imgModal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50">
      <img id="modalImg" src="" alt="Immagine a schermo intero" class="max-w-full max-h-full object-contain" />
      <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-2xl">✕</button>
    </div>
  </section>
</BaseLayout>