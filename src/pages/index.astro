---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Auriga — Benvenuti"
  headerTheme="light"
  headerClass="bg-white"
  headerStyle="background-color:white"
  pageBgColor="#ffffff"
>
  <section class="relative overflow-hidden text-white aurora-page-wrapper min-h-screen">
    <!-- Background base blu scuro esteso a tutta la pagina -->
    <div class="fixed inset-0 bg-[#013a7a] -z-20"></div>

    <!-- Contenitore dell'Aurora, fissato e a tutto schermo -->
    <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">

      <!-- BORDO SINISTRO E ALTO (Più intensi) -->
      <div class="absolute top-[-10%] left-[-15%] w-[50%] h-[40%] rounded-full bg-[#4FC3F7] opacity-85 blur-[100px]"></div>
      <div class="absolute top-[15%] left-[-10%] w-[45%] h-[35%] rounded-full bg-[#0284c7] opacity-80 blur-[90px]"></div>
      <div class="absolute top-[35%] left-[-12%] w-[48%] h-[38%] rounded-full bg-[#29B6F6] opacity-75 blur-[100px]"></div>
      <div class="absolute top-[55%] left-[-8%] w-[45%] h-[35%] rounded-full bg-[#0369a1] opacity-75 blur-[90px]"></div>
      <div class="absolute top-[75%] left-[-15%] w-[50%] h-[40%] rounded-full bg-[#0ea5e9] opacity-80 blur-[100px]"></div>

      <!-- BORDO DESTRO E ALTO (Più intensi) -->
      <div class="absolute top-[-10%] right-[-15%] w-[50%] h-[40%] rounded-full bg-[#03A9F4] opacity-85 blur-[100px]"></div>
      <div class="absolute top-[12%] right-[-10%] w-[45%] h-[35%] rounded-full bg-[#38bdf8] opacity-80 blur-[90px]"></div>
      <div class="absolute top-[32%] right-[-12%] w-[48%] h-[38%] rounded-full bg-[#0284c7] opacity-75 blur-[100px]"></div>
      <div class="absolute top-[52%] right-[-8%] w-[45%] h-[35%] rounded-full bg-[#4FC3F7] opacity-70 blur-[90px]"></div>
      <div class="absolute top-[72%] right-[-15%] w-[50%] h-[40%] rounded-full bg-[#0369a1] opacity-75 blur-[100px]"></div>

      <!-- CENTRO - HERO E MIDDLE (Molto visibili, nuvole giganti) -->
      <div class="absolute top-[-10%] left-[15%] w-[70%] h-[50%] rounded-full bg-[#7EC8E3] opacity-90 blur-[110px]"></div>
      <div class="absolute top-[5%] left-[25%] w-[60%] h-[45%] rounded-full bg-[#87CEEB] opacity-95 blur-[100px]"></div>
      <div class="absolute top-[15%] left-[10%] w-[55%] h-[40%] rounded-full bg-[#29B6F6] opacity-85 blur-[95px]"></div>
      <div class="absolute top-[20%] left-[45%] w-[50%] h-[40%] rounded-full bg-[#03A9F4] opacity-80 blur-[90px]"></div>
      
      <!-- ONDE PROFONDE (Scendono fino in fondo alla pagina) -->
      <div class="absolute top-[35%] left-[20%] w-[50%] h-[40%] rounded-full bg-[#0ea5e9] opacity-75 blur-[100px]"></div>
      <div class="absolute top-[45%] left-[40%] w-[50%] h-[40%] rounded-full bg-[#4FC3F7] opacity-80 blur-[100px]"></div>
      <div class="absolute top-[55%] left-[15%] w-[55%] h-[45%] rounded-full bg-[#29B6F6] opacity-70 blur-[95px]"></div>
      <div class="absolute top-[65%] left-[45%] w-[50%] h-[40%] rounded-full bg-[#0284c7] opacity-75 blur-[100px]"></div>
      <div class="absolute top-[75%] left-[25%] w-[55%] h-[45%] rounded-full bg-[#0369a1] opacity-70 blur-[105px]"></div>
      <div class="absolute top-[85%] left-[40%] w-[50%] h-[40%] rounded-full bg-[#0ea5e9] opacity-75 blur-[100px]"></div>
    </div>

    <!-- Hero content -->
    <div class="relative z-10 min-h-[450px] md:min-h-[500px] flex flex-col items-center justify-center">
      <div class="max-w-3xl mx-auto px-6 pt-6 pb-24 md:pt-10 md:pb-28 text-center flex flex-col items-center flex-grow justify-center">
        <h1 class="text-5xl md:text-7xl font-bold tracking-tight animate-title-float" style="text-shadow: 0 2px 15px rgba(0,0,0,0.4), 0 4px 25px rgba(0,0,0,0.2);">Auriga</h1>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-10 flex flex-col items-center opacity-80 animate-fade-in-up" style="animation-delay: 1s; animation-fill-mode: both;">
        <span class="text-xs uppercase tracking-[0.2em] mb-3 font-medium text-white/90">Scorri</span>
        <div class="w-6 h-10 border-2 border-white/60 rounded-full flex justify-center p-1">
          <div class="w-1 h-2 bg-white rounded-full animate-scroll-bounce"></div>
        </div>
      </div>
    </div>

    <!-- Sezione card -->
    <div class="relative z-10 pb-16 md:pb-20">
      <div class="max-w-6xl mx-auto px-4">
        <div class="auriga-card-stack">
          <!-- Card Formazione -->
          <article class="auriga-card-surface bg-white/90 backdrop-blur-md rounded-xl p-6 md:p-10 shadow-lg border border-white/20">
            <div class="grid md:grid-cols-2 gap-10 items-center reveal">
              <img
                src="/img/corso-sapienza-trim3.jpg"
                alt="formazione Auriga"
                class="w-full h-64 md:h-96 object-cover rounded-lg"
                loading="lazy"
                decoding="async"
              />
              <div>
                <h2 class="text-3xl md:text-4xl font-bold">Formazione</h2>
                <p class="mt-3 text-gray-700">
                 Percorsi di formazione del linguaggio e drammaturgia con docenti competenti. Corso triennale e corsi intensivi per sviluppare competenze artistiche e interpretative.
                </p>
                <a
                  href="/formazione"
                  class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
                >
                  Scopri di più
                </a>
              </div>
            </div>
          </article>

          <!-- Card Teatro -->
          <article class="auriga-card-surface bg-white/90 backdrop-blur-md rounded-xl p-6 md:p-10 shadow-lg border border-white/20">
            <div class="grid md:grid-cols-2 gap-10 items-center reveal">
              <div>
                <h2 class="text-3xl md:text-4xl font-bold">Teatro</h2>
                <p class="mt-3 text-gray-700">
                  Spettacoli in repertorio e nuove produzioni, progetti che uniscono ricerca artistica e partecipazione del pubblico.
                </p>
                <a
                  href="/teatro"
                  class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
                >
                  Scopri di più
                </a>
              </div>
              <img
                src="/img/tempesta-quartetto.jpg"
                alt="Teatro Auriga"
                class="w-full h-64 md:h-96 object-cover rounded-lg"
                loading="lazy"
                decoding="async"
              />
            </div>
          </article>

          <!-- Card Poesia -->
          <article class="auriga-card-surface bg-white/90 backdrop-blur-md rounded-xl p-6 md:p-10 shadow-lg border border-white/20">
            <div class="grid md:grid-cols-2 gap-10 items-center reveal">
              <img
                src="/img/premio-paolo-giuranna/_02A1876.JPG"
                alt="Poesia Auriga"
                class="w-full h-64 md:h-96 object-cover rounded-lg"
                loading="lazy"
                decoding="async"
              />
              <div>
                <h2 class="text-3xl md:text-4xl font-bold">Poesia</h2>
                <p class="mt-3 text-gray-700">
                  Premio dedicato ai <strong>giovani interpreti</strong> e rassegne di <strong>poesia ad alta voce</strong>, tra letture, musica e incontri con il pubblico.
                </p>
                <a
                  href="/poesia"
                  class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
                >
                  Scopri di più
                </a>
              </div>
            </div>
          </article>

          <!-- Card Eventi -->
          <article class="auriga-card-surface bg-white/90 backdrop-blur-md rounded-xl p-6 md:p-10 shadow-lg border border-white/20">
            <div class="grid md:grid-cols-2 gap-10 items-center reveal">
              <div>
                <h2 class="text-3xl md:text-4xl font-bold">Eventi</h2>
                <p class="mt-3 text-gray-700">
                  Scopri i prossimi appuntamenti dell'Associazione Auriga: spettacoli, workshop, letture e incontri culturali aperti al pubblico.
                </p>
                <a
                  href="/eventi"
                  class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
                >
                  Scopri di più
                </a>
              </div>
              <img
                src="/img/il-paradiso-locandina.jpg"
                alt="Eventi Auriga"
                class="w-full h-64 md:h-96 object-cover rounded-lg"
                loading="lazy"
                decoding="async"
              />
            </div>
          </article>
        </div>
      </div>
    </div>
  </section>

  <!-- Stili per l'effetto reveal -->
  <style is:global>
    .reveal {
      opacity: 0;
      transform: translateY(48px);
      transition: opacity .7s ease, transform .7s ease;
      will-change: opacity, transform;
    }
    .reveal.in-view {
      opacity: 1;
      transform: none;
    }

    /* Aurora Animations */
    @keyframes aurora-float {
      0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
      33% { transform: translate(3%, -4%) scale(1.05) rotate(2deg); }
      66% { transform: translate(-2%, 3%) scale(0.95) rotate(-2deg); }
    }
    
    @keyframes aurora-float-reverse {
      0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
      33% { transform: translate(-3%, 4%) scale(1.05) rotate(-2deg); }
      66% { transform: translate(2%, -2%) scale(0.95) rotate(2deg); }
    }

    .aurora-page-wrapper > div.fixed > div[class*="blur-"] {
      animation: aurora-float 20s ease-in-out infinite alternate;
      transform-origin: center center;
      will-change: transform;
    }
    .aurora-page-wrapper > div.fixed > div[class*="blur-"]:nth-child(even) {
      animation: aurora-float-reverse 24s ease-in-out infinite alternate;
      animation-delay: -3s;
    }
    .aurora-page-wrapper > div.fixed > div[class*="blur-"]:nth-child(3n) {
      animation-duration: 28s;
      animation-delay: -7s;
    }

    /* Title Float */
    @keyframes title-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    .animate-title-float {
      animation: title-float 6s ease-in-out infinite;
    }

    /* Scroll Indicator */
    @keyframes scroll-bounce {
      0%, 100% { transform: translateY(0); opacity: 1; }
      50% { transform: translateY(12px); opacity: 0.5; }
    }
    .animate-scroll-bounce {
      animation: scroll-bounce 2s infinite ease-in-out;
    }
    
    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 0.8; transform: translateY(0); }
    }
    .animate-fade-in-up {
      animation: fade-in-up 1.5s ease-out forwards;
    }
  </style>

  <!-- Script: accende la reveal quando entra in viewport -->
  <script>
    function initReveal() {
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add('in-view');
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      document.querySelectorAll('.reveal').forEach((el) => io.observe(el));
    }

    // Ascolta astro:page-load per reinizializzare dopo navigazione View Transitions
    document.addEventListener('astro:page-load', initReveal);
  </script>
</BaseLayout>
