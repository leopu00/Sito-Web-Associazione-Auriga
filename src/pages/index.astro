---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Auriga — Benvenuti"
  headerTheme="light"
  headerClass="bg-white"
  headerStyle="background-color:white"
  pageBgColor="#ffffff"
>
  <!-- HERO full-screen con parallax e gradiente verso il nero -->
  <section
    class="relative min-h-screen flex items-center justify-center text-white hero-bg"
    style="
      background-image: url('/img/auriga-blu-chiaro4.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      background-color: black;
    "
  >
    <!-- sfumatura verso nero per stacco morbido -->
    <div class="absolute inset-x-0 bottom-0 h-48 pointer-events-none bg-gradient-to-b from-transparent to-[#014f97]"></div>

    <h1 class="relative z-10 text-5xl md:text-7xl font-extrabold drop-shadow">
      APS Auriga
    </h1>
  </section>

  <!-- Sezione formazione: parte “nascosta”, si rivela salendo -->
  <section id="formazione" class="bg-[#014f97] text-black">
    <div class="max-w-6xl mx-auto px-4 auriga-card-section-spacing">
      <div class="auriga-card-surface">
        <div class="grid md:grid-cols-2 gap-10 items-center reveal">
          <img
            src="/img/corso-sapienza-trim3.jpg"
            alt="formazione Auriga"
            class="w-full h-64 md:h-96 object-cover rounded-lg"
            loading="lazy"
            decoding="async"
          />
          <div>
            <h2 class="text-3xl md:text-4xl font-bold">Formazione</h2>
            <p class="mt-3 text-gray-700">
             Percorsi di formazione del linguaggio e drammaturgia con docenti competenti. Corso triennale e corsi intensivi per sviluppare competenze artistiche e interpretative.
            </p>
            <a
              href="/formazione"
              class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
            >
              Scopri di più
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="teatro" class="bg-[#014f97] text-black">
    <div class="max-w-6xl mx-auto px-4 auriga-card-section-spacing">
      <div class="auriga-card-surface">
        <div class="grid md:grid-cols-2 gap-10 items-center reveal">
          <div>
            <h2 class="text-3xl md:text-4xl font-bold">Teatro</h2>
            <p class="mt-3 text-gray-700">
              Spettacoli in repertorio e nuove produzioni, progetti che uniscono ricerca artistica e partecipazione del pubblico.
            </p>
            <a
              href="/teatro"
              class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
            >
              Scopri di più
            </a>
          </div>
          <img
            src="/img/tempesta-quartetto.jpg"
            alt="Teatro Auriga"
            class="w-full h-64 md:h-96 object-cover rounded-lg"
            loading="lazy"
            decoding="async"
          />
        </div>
      </div>
    </div>
  </section>

  <section id="poesia" class="bg-[#014f97] text-black">
    <div class="max-w-6xl mx-auto px-4 auriga-card-section-spacing">
      <div class="auriga-card-surface">
        <div class="grid md:grid-cols-2 gap-10 items-center reveal">
          <img
            src="/img/premio-paolo-giuranna/_02A1876.JPG"
            alt="Poesia Auriga"
            class="w-full h-64 md:h-96 object-cover rounded-lg"
            loading="lazy"
            decoding="async"
          />
          <div>
            <h2 class="text-3xl md:text-4xl font-bold">Poesia</h2>
            <p class="mt-3 text-gray-700">
              Premio dedicato ai <strong>giovani interpreti</strong> e rassegne di <strong>poesia ad alta voce</strong>, tra letture, musica e incontri con il pubblico.
            </p>
            <a
              href="/poesia"
              class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
            >
              Scopri di più
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="eventi" class="bg-[#014f97] text-black">
    <div class="max-w-6xl mx-auto px-4 auriga-card-section-spacing">
      <div class="auriga-card-surface">
        <div class="grid md:grid-cols-2 gap-10 items-center reveal">
          <div>
            <h2 class="text-3xl md:text-4xl font-bold">Eventi</h2>
            <p class="mt-3 text-gray-700">
              Scopri i prossimi appuntamenti dell'Associazione Auriga: spettacoli, workshop, letture e incontri culturali aperti al pubblico.
            </p>
            <a
              href="/eventi"
              class="mt-6 inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors"
            >
              Scopri di più
            </a>
          </div>
          <img
            src="/img/il-paradiso-locandina.jpg"
            alt="Eventi Auriga"
            class="w-full h-64 md:h-96 object-cover rounded-lg"
            loading="lazy"
            decoding="async"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Stili per l'effetto reveal e hero -->
  <style is:global>
    /* Hero background: fixed e offset solo su desktop */
    @media (min-width: 1280px) {
      .hero-bg {
        background-attachment: fixed !important;
        background-position: center 44px !important;
      }
    }

    .reveal {
      opacity: 0;
      transform: translateY(48px);
      transition: opacity .7s ease, transform .7s ease;
      will-change: opacity, transform;
    }
    .reveal.in-view {
      opacity: 1;
      transform: none;
    }
  </style>

  <!-- Script: accende la reveal quando entra in viewport -->
  <script>
    function initReveal() {
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add('in-view');
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.15 }
      );
      document.querySelectorAll('.reveal').forEach((el) => io.observe(el));
    }

    // Ascolta astro:page-load per reinizializzare dopo navigazione View Transitions
    document.addEventListener('astro:page-load', initReveal);
  </script>
</BaseLayout>
