---
import BaseLayout from "../../layouts/BaseLayout.astro";
---
<BaseLayout
  title="Premio Paolo Giuranna — Auriga"
  headerTheme="light"
  pageNamespace="premio-paolo-giuranna"
  pageClass="bg-[#faf7f2] text-black"
  pageBg="light"
  headerClass="bg-[#faf7f2]"
  headerStyle="background-color:#faf7f2"
>
  <section class="max-w-6xl mx-auto px-4 py-12 pt-20">
    <h1 class="text-3xl font-bold mb-6 text-[#7c2935]">Premio Paolo Giuranna</h1>
    <div class="mb-8 max-w-3xl mx-auto">
      <img src="/img/premio-paolo-giuranna/premiogiuranna.jpg" alt="Premio Paolo Giuranna" class="w-full rounded-lg" loading="lazy" decoding="async" />
    </div>
    <p class="text-lg leading-relaxed text-justify">
      L’APS Auriga, in collaborazione con la Fondazione Culturasì, la Società “Dante Alighieri”,
      l’Accademia Nazionale d’Arte Drammatica “Silvio D’Amico”, il Dipartimento di Lettere e Culture Moderne
      dell’Università Sapienza di Roma, e con il sostegno della famiglia Giuranna, organizza il
      <strong class="text-[#7c2935]">“Premio Paolo Giuranna”</strong>. Il Premio è dedicato a giovani interpreti di poesia lirica di età
      compresa tra i 18 e i 32 anni, si svolge annualmente nel mese di marzo ed è giunto nel 2025 alla sua
      seconda edizione.
    </p>

    <div class="mb-10"></div>

    <!-- Galleria -->
    <h2 class="text-2xl font-semibold">Galleria</h2>
    <div class="mt-2 relative w-full max-w-3xl mx-auto">
      <div class="overflow-hidden rounded">
        <div class="flex transition-transform duration-700 ease-in-out will-change-transform h-96 md:h-[40rem]" id="carousel-giuranna">
          <img src="/img/premio-paolo-giuranna/_02A1876.JPG" alt="Premio Paolo Giuranna – 1" class="w-full h-full object-contain object-center flex-none shrink-0 cursor-zoom-in" loading="lazy" decoding="async" />
          <img src="/img/premio-paolo-giuranna/_MG_0425.JPG"   alt="Premio Paolo Giuranna – 2" class="w-full h-full object-contain object-center flex-none shrink-0 cursor-zoom-in" loading="lazy" decoding="async" />
          <img src="/img/premio-paolo-giuranna/_MG_0518.JPG"   alt="Premio Paolo Giuranna – 3" class="w-full h-full object-contain object-center flex-none shrink-0 cursor-zoom-in" loading="lazy" decoding="async" />
        </div>
      </div>
      <button onclick="moveGiuranna(-1)" class="absolute top-1/2 left-0 -translate-y-1/2 bg-black/60 text-white p-2 rounded">←</button>
      <button onclick="moveGiuranna(1)"  class="absolute top-1/2 right-0 -translate-y-1/2 bg-black/60 text-white p-2 rounded">→</button>
    </div>

    <script is:inline>
      window.addEventListener('DOMContentLoaded', () => {
        let idx = 0;
        const car = document.getElementById('carousel-giuranna');
        const tot = car ? car.children.length : 0;
        function moveGiuranna(d) {
          if (!car || tot === 0) return;
          idx = (idx + d + tot) % tot;
          car.style.transform = `translateX(-${idx * 100}%)`;
        }
        window.moveGiuranna = moveGiuranna;

        // Modal fullscreen
        const imgs = car ? car.querySelectorAll('img') : [];
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');
        imgs.forEach((img) => {
          img.addEventListener('click', () => {
            if (modal && modalImg) {
              modalImg.src = img.src;
              modal.classList.remove('hidden');
              modal.classList.add('flex');
            }
          });
        });
        function closeModal() {
          if (modal) {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            if (modalImg) modalImg.src = '';
          }
        }
        window.closeModal = closeModal;
        if (modal) {
          modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
          });
        }
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') closeModal();
        });
      });
    </script>

    <div class="mt-10">
      <a href="/poesia" class="inline-block px-5 py-3 border border-black text-black rounded hover:bg-black hover:text-white transition-colors">← Torna a Poesia</a>
    </div>

    <div id="imgModal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50">
      <img id="modalImg" src="" alt="Immagine a schermo intero" class="max-w-full max-h-full object-contain" />
      <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-2xl">✕</button>
    </div>
  </section>
</BaseLayout>